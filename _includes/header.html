{% assign image = page.header | default: site.header %}
{% assign dark = page.header-dark | is_nil: site.header-dark | is_nil: true %}

{% assign svg = "images/logo.svg" | file_exists %}
{% assign png = "images/logo.png" | file_exists %}
{% assign jpg = "images/logo.jpg" | file_exists %}
{% assign logo = svg | default: png | default: jpg | default: nil %}

<!--
  This is the updated HTML document with a background image in the header
  and white text for the main title. The responsive navigation menu
  from the previous version is still fully intact.

  The CSS for the header is added inside the <style> block.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zhu Lab</title>
    <!-- Use Tailwind CSS for a clean, modern look -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        /* NEW CSS FOR THE HEADER IMAGE AND TEXT */
        .hero-local {
            background-image: url('images/banner.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1; /* Ensure this is above other elements but below the header */
        }
        .hero-content {
            text-align: center;
            padding: 2rem;
        }
        .hero-content h1 {
            color: #ffffff;
            font-size: 4rem; /* Making the title bigger */
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7); /* Adds a shadow for readability */
        }

        /* The "magic" to make the hamburger toggle work */
        /* This hides the checkbox, but keeps it functional */
        .nav-toggle {
            display: none;
        }

        /* This hides the main navigation menu by default on small screens */
        .header-nav {
            display: none;
            flex-direction: column;
            width: 100%;
        }

        /* This shows the menu when the checkbox is checked */
        .nav-toggle:checked ~ .header-nav {
            display: flex;
        }

        /* This hides the dropdown content by default */
        .dropdown-content {
            display: none;
            flex-direction: column;
            padding-left: 1rem;
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* This shows the dropdown content when the dropdown checkbox is checked */
        .dropdown-toggle:checked ~ .dropdown-content {
            display: flex;
        }

        /* For desktop, we hide the hamburger icon and show the full menu */
        @media (min-width: 768px) {
            .nav-toggle-label {
                display: none;
            }
            .header-nav {
                display: flex;
                flex-direction: row;
                justify-content: flex-end;
            }
            .header-nav a, .header-nav .dropdown {
                margin-left: 1.5rem;
            }
            /* On desktop, use hover for dropdowns */
            .dropdown:hover .dropdown-content {
                display: flex;
            }
            .dropdown-toggle {
                pointer-events: none; /* Disable checkbox on desktop for hover to work */
            }
            .dropdown-toggle + .nav-label {
                cursor: pointer;
            }
            .dropdown-toggle:checked + .nav-label ~ .dropdown-content {
                display: none;
            }
            .dropdown:hover .dropdown-content {
                display: flex;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Hero section with the lab title and background image -->
    <section class="hero-local">
      <div class="hero-content">
        <h1> Zhu Lab </h1>
      </div>
    </section>

    <!--
      This is the main header/navigation bar.
      It uses flexbox to arrange items and is responsive.
    -->
    <header class="bg-white sticky top-0 z-50 shadow-md">
        <div class="container mx-auto flex items-center justify-between p-4 md:p-6">
            <!-- Website Title/Logo -->
            <a href="{{ "/" | relative_url }}" class="title-text text-2xl md:text-3xl font-bold text-gray-800 transition-colors duration-200 hover:text-blue-600">
                Zhu Lab
            </a>

            <!-- The Hamburger Toggle button (hidden on desktop) -->
            <input type="checkbox" class="nav-toggle" id="nav-toggle">
            <label for="nav-toggle" class="nav-toggle-label block md:hidden text-3xl cursor-pointer">
                <i class="fas fa-bars"></i>
            </label>

            <!--
              This is the combined navigation menu.
              On mobile, it's hidden by default and appears when the toggle is clicked.
              On desktop, it's always visible and a horizontal row.
            -->
            <nav class="header-nav mt-4 md:mt-0 md:flex">
                <!-- Static links -->
                <a href="{{ '/research/' | relative_url }}" class="text-lg font-medium p-2 md:p-0 rounded-lg md:rounded-none transition-colors duration-200 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-600">
                    Research
                </a>
                
                <!-- Team dropdown -->
                <div class="dropdown relative">
                    <input type="checkbox" class="dropdown-toggle absolute opacity-0 z-10" id="dropdown-toggle-team">
                    <label for="dropdown-toggle-team" class="nav-label text-lg font-medium p-2 md:p-0 rounded-lg md:rounded-none cursor-pointer transition-colors duration-200 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-600 flex items-center justify-between md:justify-start">
                        Team
                        <span class="ml-2 text-sm">▼</span>
                    </label>
                    <div class="dropdown-content mt-2 md:absolute md:top-full md:left-0 bg-white md:bg-white rounded-lg shadow-lg md:min-w-[12rem] md:p-2 md:border md:border-gray-200">
                        <a href="{{ '/team/current/' | relative_url }}" class="block p-2 text-gray-700 transition-colors duration-200 hover:bg-gray-100 rounded-md">
                            Current Members
                        </a>
                        <a href="{{ '/team/alumni/' | relative_url }}" class="block p-2 text-gray-700 transition-colors duration-200 hover:bg-gray-100 rounded-md">
                            Alumni
                        </a>
                    </div>
                </div>

                <!-- Static links -->
                <a href="{{ '/publications/' | relative_url }}" class="text-lg font-medium p-2 md:p-0 rounded-lg md:rounded-none transition-colors duration-200 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-600">
                    Publications
                </a>
                <a href="{{ '/contact/' | relative_url }}" class="text-lg font-medium p-2 md:p-0 rounded-lg md:rounded-none transition-colors duration-200 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-600">
                    Contact
                </a>

                <!--
                  This is the original Jekyll/Liquid dropdown logic.
                  It's now a template for you to use with your own dropdowns.
                -->
                <div class="dropdown relative">
                    <input type="checkbox" class="dropdown-toggle absolute opacity-0 z-10" id="dropdown-toggle-pages">
                    <label for="dropdown-toggle-pages" class="nav-label text-lg font-medium p-2 md:p-0 rounded-lg md:rounded-none cursor-pointer transition-colors duration-200 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-600 flex items-center justify-between md:justify-start">
                        <!-- 'parent.title' would go here -->
                        Dropdown Example
                        <span class="ml-2 text-sm">▼</span>
                    </label>
                    <div class="dropdown-content mt-2 md:absolute md:top-full md:left-0 bg-white md:bg-white rounded-lg shadow-lg md:min-w-[12rem] md:p-2 md:border md:border-gray-200">
                        <a href="#" class="block p-2 text-gray-700 transition-colors duration-200 hover:bg-gray-100 rounded-md">
                            Sub-page One
                        </a>
                        <a href="#" class="block p-2 text-gray-700 transition-colors duration-200 hover:bg-gray-100 rounded-md">
                            Sub-page Two
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

</body>
</html>
